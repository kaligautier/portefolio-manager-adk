{
  "version": 4,
  "terraform_version": "1.5.7",
  "serial": 53,
  "lineage": "2415470c-96fb-32a4-f914-729bb0f67e7f",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "google_project",
      "name": "dev_project",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_network": null,
            "billing_account": "002B76-442B88-C30010",
            "deletion_policy": "PREVENT",
            "effective_labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            },
            "folder_id": "1065556293046",
            "id": "projects/lil-onboard-gcp",
            "labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            },
            "name": "Onboard GCP Lille",
            "number": "920439982441",
            "org_id": "",
            "project_id": "lil-onboard-gcp",
            "tags": null,
            "terraform_labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "google_project",
      "name": "project",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_network": null,
            "billing_account": "002B76-442B88-C30010",
            "deletion_policy": "PREVENT",
            "effective_labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            },
            "folder_id": "1065556293046",
            "id": "projects/lil-onboard-gcp",
            "labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            },
            "name": "Onboard GCP Lille",
            "number": "920439982441",
            "org_id": "",
            "project_id": "lil-onboard-gcp",
            "tags": null,
            "terraform_labels": {
              "firebase": "enabled",
              "generative-language": "enabled"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_bigquery_connection",
      "name": "genai_telemetry_connection",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "aws": [],
            "azure": [],
            "cloud_resource": [
              {
                "service_account_id": "bqcx-920439982441-csva@gcp-sa-bigquery-condel.iam.gserviceaccount.com"
              }
            ],
            "cloud_spanner": [],
            "cloud_sql": [],
            "connection_id": "porte-folio-manager-genai-telemetry",
            "description": "",
            "friendly_name": "porte-folio-manager GenAI Telemetry Connection",
            "has_credential": false,
            "id": "projects/lil-onboard-gcp/locations/europe-west1/connections/porte-folio-manager-genai-telemetry",
            "kms_key_name": "",
            "location": "europe-west1",
            "name": "projects/920439982441/locations/europe-west1/connections/porte-folio-manager-genai-telemetry",
            "project": "lil-onboard-gcp",
            "spark": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_bigquery_dataset",
      "name": "telemetry_dataset",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access": [
              {
                "condition": [],
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "OWNER",
                "routine": [],
                "special_group": "",
                "user_by_email": "masse.g@sfeir.com",
                "view": []
              },
              {
                "condition": [],
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "OWNER",
                "routine": [],
                "special_group": "projectOwners",
                "user_by_email": "",
                "view": []
              },
              {
                "condition": [],
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "READER",
                "routine": [],
                "special_group": "projectReaders",
                "user_by_email": "",
                "view": []
              },
              {
                "condition": [],
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "WRITER",
                "routine": [],
                "special_group": "projectWriters",
                "user_by_email": "",
                "view": []
              }
            ],
            "creation_time": 1765525527922,
            "dataset_id": "porte_folio_manager_telemetry",
            "default_collation": "",
            "default_encryption_configuration": [],
            "default_partition_expiration_ms": 0,
            "default_table_expiration_ms": 0,
            "delete_contents_on_destroy": false,
            "description": "Dataset for GenAI telemetry data stored in GCS",
            "effective_labels": {
              "goog-terraform-provisioned": "true"
            },
            "etag": "l6MdRM+Yo29zFACszmvpMg==",
            "external_catalog_dataset_options": [],
            "external_dataset_reference": [],
            "friendly_name": "porte-folio-manager Telemetry",
            "id": "projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry",
            "is_case_insensitive": false,
            "labels": {},
            "last_modified_time": 1765525527922,
            "location": "europe-west1",
            "max_time_travel_hours": "168",
            "project": "lil-onboard-gcp",
            "resource_tags": {},
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry",
            "storage_billing_model": "",
            "terraform_labels": {
              "goog-terraform-provisioned": "true"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "completions_external_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "biglake_configuration": [],
            "clustering": null,
            "creation_time": 1765525542770,
            "dataset_id": "porte_folio_manager_telemetry",
            "deletion_protection": false,
            "description": "",
            "effective_labels": {
              "goog-terraform-provisioned": "true"
            },
            "encryption_configuration": [],
            "etag": "r6gTbYunBk7/twGaKF2scw==",
            "expiration_time": 0,
            "external_catalog_table_options": [],
            "external_data_configuration": [
              {
                "autodetect": false,
                "avro_options": [],
                "bigtable_options": [],
                "compression": "NONE",
                "connection_id": "920439982441.europe-west1.porte-folio-manager-genai-telemetry",
                "csv_options": [],
                "file_set_spec_type": "",
                "google_sheets_options": [],
                "hive_partitioning_options": [],
                "ignore_unknown_values": true,
                "json_extension": "",
                "json_options": [],
                "max_bad_records": 1000,
                "metadata_cache_mode": "",
                "object_metadata": "",
                "parquet_options": [],
                "reference_file_schema_uri": "",
                "schema": "",
                "source_format": "NEWLINE_DELIMITED_JSON",
                "source_uris": [
                  "gs://lil-onboard-gcp-porte-folio-manager-logs/completions/*"
                ]
              }
            ],
            "friendly_name": "",
            "generated_schema_columns": "",
            "id": "projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry/tables/completions",
            "ignore_auto_generated_schema": false,
            "ignore_schema_changes": null,
            "labels": {},
            "last_modified_time": 1765525543142,
            "location": "europe-west1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "lil-onboard-gcp",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"fields\":[{\"mode\":\"NULLABLE\",\"name\":\"type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"content\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"mime_type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"uri\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"data\",\"type\":\"BYTES\"},{\"mode\":\"NULLABLE\",\"name\":\"id\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"name\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"arguments\",\"type\":\"JSON\"},{\"mode\":\"NULLABLE\",\"name\":\"response\",\"type\":\"JSON\"}],\"mode\":\"REPEATED\",\"name\":\"parts\",\"type\":\"RECORD\"},{\"mode\":\"NULLABLE\",\"name\":\"role\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"index\",\"type\":\"INTEGER\"}]",
            "schema_foreign_type_info": [],
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry/tables/completions",
            "table_constraints": [],
            "table_id": "completions",
            "table_metadata_view": null,
            "table_replication_info": [],
            "terraform_labels": {
              "goog-terraform-provisioned": "true"
            },
            "time_partitioning": [],
            "type": "EXTERNAL",
            "view": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_bigquery_connection.genai_telemetry_connection",
            "google_bigquery_dataset.telemetry_dataset",
            "google_project_service.services",
            "google_storage_bucket.logs_data_bucket",
            "google_storage_bucket_iam_member.telemetry_connection_access",
            "time_sleep.wait_for_bq_connection_sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "completions_view",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "biglake_configuration": [],
            "clustering": null,
            "creation_time": 1765525626744,
            "dataset_id": "porte_folio_manager_telemetry",
            "deletion_protection": false,
            "description": "View of GenAI completion logs joined with the GCS prompt/response external table",
            "effective_labels": {
              "goog-terraform-provisioned": "true"
            },
            "encryption_configuration": [],
            "etag": "js1NK2GhHZ2dQiLDuVui/w==",
            "expiration_time": 0,
            "external_catalog_table_options": [],
            "external_data_configuration": [],
            "friendly_name": "",
            "generated_schema_columns": "",
            "id": "projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry/tables/completions_view",
            "ignore_auto_generated_schema": false,
            "ignore_schema_changes": null,
            "labels": {},
            "last_modified_time": 1765525627750,
            "location": "europe-west1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "lil-onboard-gcp",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"mode\":\"NULLABLE\",\"name\":\"timestamp\",\"type\":\"TIMESTAMP\"},{\"mode\":\"NULLABLE\",\"name\":\"insert_id\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"trace\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"span_id\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"api_call_id\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"message_type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"role\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"message_idx\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"part_idx\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"content\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"part_type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"tool_name\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"tool_args\",\"type\":\"JSON\"},{\"mode\":\"NULLABLE\",\"name\":\"tool_response\",\"type\":\"JSON\"},{\"mode\":\"NULLABLE\",\"name\":\"uri\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"mime_type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"data_md5_hex\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"labels\",\"type\":\"JSON\"},{\"mode\":\"NULLABLE\",\"name\":\"messages_ref_uri\",\"type\":\"STRING\"}]",
            "schema_foreign_type_info": [],
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/lil-onboard-gcp/datasets/porte_folio_manager_telemetry/tables/completions_view",
            "table_constraints": [],
            "table_id": "completions_view",
            "table_metadata_view": null,
            "table_replication_info": [],
            "terraform_labels": {
              "goog-terraform-provisioned": "true"
            },
            "time_partitioning": [],
            "type": "VIEW",
            "view": [
              {
                "query": "-- Optimized join of Cloud Logging data with GCS-stored prompt/response data.\n-- This query extracts both input and output messages referenced in logs.\n-- Note: Input files contain full conversation history, so messages may appear multiple times.\n\n-- Extract message references from Cloud Logging (scan once, extract both input/output)\nWITH log_refs AS (\n  SELECT\n    insert_id,\n    timestamp,\n    labels,\n    trace,\n    span_id,\n    JSON_VALUE(labels, '$.\\\"gen_ai.input.messages_ref\\\"') AS input_ref,\n    JSON_VALUE(labels, '$.\\\"gen_ai.output.messages_ref\\\"') AS output_ref\n  FROM `lil-onboard-gcp.porte_folio_manager_genai_telemetry_logs._AllLogs`\n  WHERE JSON_VALUE(labels, '$.\\\"gen_ai.input.messages_ref\\\"') IS NOT NULL\n     OR JSON_VALUE(labels, '$.\\\"gen_ai.output.messages_ref\\\"') IS NOT NULL\n),\n\n-- Unpivot to get one row per message reference\nunpivoted_refs AS (\n  SELECT\n    insert_id,\n    timestamp,\n    labels,\n    trace,\n    span_id,\n    input_ref AS messages_ref_uri,\n    'input' AS message_type\n  FROM log_refs\n  WHERE input_ref IS NOT NULL\n\n  UNION ALL\n\n  SELECT\n    insert_id,\n    timestamp,\n    labels,\n    trace,\n    span_id,\n    output_ref AS messages_ref_uri,\n    'output' AS message_type\n  FROM log_refs\n  WHERE output_ref IS NOT NULL\n),\n\n-- Join with completions external table and extract api_call_id once\njoined_data AS (\n  SELECT\n    lr.insert_id,\n    lr.timestamp,\n    lr.labels,\n    lr.trace,\n    lr.span_id,\n    lr.messages_ref_uri,\n    lr.message_type,\n    SPLIT(REGEXP_EXTRACT(lr.messages_ref_uri, r'/([^/]+)\\.jsonl'), '_')[OFFSET(0)] AS api_call_id,\n    c.role,\n    c.parts,\n    c.index AS message_idx\n  FROM unpivoted_refs lr\n  JOIN `lil-onboard-gcp.porte_folio_manager_telemetry.completions` c\n    ON lr.messages_ref_uri = c._FILE_NAME\n),\n\n-- Flatten the parts array\nflattened AS (\n  SELECT\n    insert_id,\n    timestamp,\n    labels,\n    trace,\n    span_id,\n    messages_ref_uri,\n    message_type,\n    api_call_id,\n    role,\n    message_idx,\n    part_idx,\n    part.type AS part_type,\n    part.content,\n    part.uri,\n    part.mime_type,\n    TO_HEX(MD5(part.data)) AS data_md5_hex,\n    part.id AS tool_id,\n    part.name AS tool_name,\n    part.arguments AS tool_args,\n    part.response AS tool_response\n  FROM joined_data\n  CROSS JOIN UNNEST(parts) AS part WITH OFFSET AS part_idx\n),\n\n-- Deduplicate by trace: keep only the latest log entry per trace\n-- (Tool calls create multiple log entries with same trace but different timestamps)\ndeduplicated AS (\n  SELECT\n    *,\n    ROW_NUMBER() OVER (\n      PARTITION BY trace, message_type, role, message_idx, part_idx\n      ORDER BY timestamp DESC\n    ) AS row_num\n  FROM flattened\n)\n\nSELECT\n  -- Core identifiers and timestamps\n  timestamp,\n  insert_id,\n  trace,\n  span_id,\n  api_call_id,\n\n  -- Message metadata\n  message_type,\n  role,\n  message_idx,\n  part_idx,\n\n  -- Message content\n  content,\n\n  -- Tool/function calling\n  part_type,\n  tool_name,\n  tool_args,\n  tool_response,\n\n  -- Additional metadata\n  uri,\n  mime_type,\n  data_md5_hex,\n\n  -- Raw fields\n  labels,\n  messages_ref_uri\nFROM deduplicated\nWHERE row_num = 1  -- Keep only the latest entry per trace/message/part\nORDER BY trace ASC, message_type ASC, message_idx ASC, part_idx ASC\n",
                "use_legacy_sql": false
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_bigquery_connection.genai_telemetry_connection",
            "google_bigquery_dataset.telemetry_dataset",
            "google_bigquery_table.completions_external_table",
            "google_logging_linked_dataset.genai_logs_linked_dataset",
            "google_logging_project_bucket_config.genai_telemetry_bucket",
            "google_logging_project_sink.genai_logs_to_bucket",
            "google_project_service.services",
            "google_storage_bucket.logs_data_bucket",
            "google_storage_bucket_iam_member.telemetry_connection_access",
            "time_sleep.wait_for_bq_connection_sa",
            "time_sleep.wait_for_linked_dataset"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_cloud_run_v2_service",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {},
            "binary_authorization": [],
            "build_config": [],
            "client": "",
            "client_version": "",
            "conditions": [
              {
                "execution_reason": "",
                "last_transition_time": "2025-12-12T10:18:56.770388Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "RoutesReady"
              },
              {
                "execution_reason": "",
                "last_transition_time": "2025-12-12T10:18:21.472908Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "ConfigurationsReady"
              }
            ],
            "create_time": "2025-12-12T08:15:51.072740Z",
            "creator": "masse.g@sfeir.com",
            "custom_audiences": [],
            "default_uri_disabled": false,
            "delete_time": "",
            "deletion_protection": false,
            "description": "",
            "effective_annotations": {},
            "effective_labels": {
              "created-by": "adk",
              "goog-terraform-provisioned": "true"
            },
            "etag": "\"COzX78kGEICqmJoB/cHJvamVjdHMvbGlsLW9uYm9hcmQtZ2NwL2xvY2F0aW9ucy9ldXJvcGUtd2VzdDEvc2VydmljZXMvcG9ydGUtZm9saW8tbWFuYWdlcg\"",
            "expire_time": "",
            "generation": "3",
            "id": "projects/lil-onboard-gcp/locations/europe-west1/services/porte-folio-manager",
            "ingress": "INGRESS_TRAFFIC_ALL",
            "invoker_iam_disabled": false,
            "labels": {
              "created-by": "adk"
            },
            "last_modifier": "masse.g@sfeir.com",
            "latest_created_revision": "projects/lil-onboard-gcp/locations/europe-west1/services/porte-folio-manager/revisions/porte-folio-manager-00003-xfz",
            "latest_ready_revision": "projects/lil-onboard-gcp/locations/europe-west1/services/porte-folio-manager/revisions/porte-folio-manager-00003-xfz",
            "launch_stage": "GA",
            "location": "europe-west1",
            "multi_region_settings": [],
            "name": "porte-folio-manager",
            "observed_generation": "3",
            "project": "lil-onboard-gcp",
            "reconciling": false,
            "scaling": [],
            "template": [
              {
                "annotations": {},
                "containers": [
                  {
                    "args": [],
                    "base_image_uri": "",
                    "build_info": [],
                    "command": [],
                    "depends_on": [],
                    "env": [
                      {
                        "name": "DB_NAME",
                        "value": "porte-folio-manager",
                        "value_source": []
                      },
                      {
                        "name": "DB_PASS",
                        "value": "",
                        "value_source": [
                          {
                            "secret_key_ref": [
                              {
                                "secret": "porte-folio-manager-db-password",
                                "version": "latest"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "name": "DB_USER",
                        "value": "porte-folio-manager",
                        "value_source": []
                      },
                      {
                        "name": "INSTANCE_CONNECTION_NAME",
                        "value": "lil-onboard-gcp:europe-west1:porte-folio-manager-db-dev",
                        "value_source": []
                      },
                      {
                        "name": "LOGS_BUCKET_NAME",
                        "value": "lil-onboard-gcp-porte-folio-manager-logs",
                        "value_source": []
                      },
                      {
                        "name": "OTEL_INSTRUMENTATION_GENAI_CAPTURE_MESSAGE_CONTENT",
                        "value": "NO_CONTENT",
                        "value_source": []
                      }
                    ],
                    "image": "europe-west1-docker.pkg.dev/lil-onboard-gcp/cloud-run-source-deploy/porte-folio-manager@sha256:1ad457ac3d746d5dbecb8adce84a63e5b54c12b6621d0993514b4b4d57f1f4c5",
                    "liveness_probe": [],
                    "name": "",
                    "ports": [
                      {
                        "container_port": 8080,
                        "name": "http1"
                      }
                    ],
                    "resources": [
                      {
                        "cpu_idle": false,
                        "limits": {
                          "cpu": "4",
                          "memory": "8Gi"
                        },
                        "startup_cpu_boost": false
                      }
                    ],
                    "startup_probe": [
                      {
                        "failure_threshold": 1,
                        "grpc": [],
                        "http_get": [],
                        "initial_delay_seconds": 0,
                        "period_seconds": 240,
                        "tcp_socket": [
                          {
                            "port": 8080
                          }
                        ],
                        "timeout_seconds": 240
                      }
                    ],
                    "volume_mounts": [
                      {
                        "mount_path": "/cloudsql",
                        "name": "cloudsql",
                        "sub_path": ""
                      }
                    ],
                    "working_dir": ""
                  }
                ],
                "encryption_key": "",
                "execution_environment": "",
                "gpu_zonal_redundancy_disabled": false,
                "health_check_disabled": false,
                "labels": {},
                "max_instance_request_concurrency": 40,
                "node_selector": [],
                "revision": "",
                "scaling": [
                  {
                    "max_instance_count": 10,
                    "min_instance_count": 1
                  }
                ],
                "service_account": "porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
                "session_affinity": true,
                "timeout": "300s",
                "volumes": [
                  {
                    "cloud_sql_instance": [
                      {
                        "instances": [
                          "lil-onboard-gcp:europe-west1:porte-folio-manager-db-dev"
                        ]
                      }
                    ],
                    "empty_dir": [],
                    "gcs": [],
                    "name": "cloudsql",
                    "nfs": [],
                    "secret": []
                  }
                ],
                "vpc_access": []
              }
            ],
            "terminal_condition": [
              {
                "execution_reason": "",
                "last_transition_time": "2025-12-12T10:18:56.800023Z",
                "message": "",
                "reason": "",
                "revision_reason": "",
                "severity": "",
                "state": "CONDITION_SUCCEEDED",
                "type": "Ready"
              }
            ],
            "terraform_labels": {
              "created-by": "adk",
              "goog-terraform-provisioned": "true"
            },
            "timeouts": null,
            "traffic": [
              {
                "percent": 100,
                "revision": "",
                "tag": "",
                "type": "TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST"
              }
            ],
            "traffic_statuses": [
              {
                "percent": 100,
                "revision": "",
                "tag": "",
                "type": "TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST",
                "uri": ""
              }
            ],
            "uid": "c3917f45-1325-4fe0-9b70-2b576379dfe6",
            "update_time": "2025-12-12T10:18:20.323360Z",
            "uri": "https://porte-folio-manager-j6sw5ssaca-ew.a.run.app",
            "urls": [
              "https://porte-folio-manager-920439982441.europe-west1.run.app",
              "https://porte-folio-manager-j6sw5ssaca-ew.a.run.app"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services",
            "google_secret_manager_secret.db_password",
            "google_secret_manager_secret_version.db_password",
            "google_service_account.app_sa",
            "google_sql_database_instance.session_db",
            "google_sql_user.db_user",
            "google_storage_bucket.logs_data_bucket"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_logging_linked_dataset",
      "name": "genai_logs_linked_dataset",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bigquery_dataset": [
              {
                "dataset_id": "bigquery.googleapis.com/projects/lil-onboard-gcp/datasets/porte_folio_manager_genai_telemetry_logs"
              }
            ],
            "bucket": "porte-folio-manager-genai-telemetry",
            "create_time": "2025-12-12T07:46:21.615915317Z",
            "description": "Linked dataset for porte-folio-manager GenAI telemetry Cloud Logging bucket",
            "id": "projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry/links/porte_folio_manager_genai_telemetry_logs",
            "lifecycle_state": "ACTIVE",
            "link_id": "porte_folio_manager_genai_telemetry_logs",
            "location": "europe-west1",
            "name": "projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry/links/porte_folio_manager_genai_telemetry_logs",
            "parent": "projects/lil-onboard-gcp",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "google_logging_project_bucket_config.genai_telemetry_bucket",
            "google_logging_project_sink.genai_logs_to_bucket",
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_logging_project_bucket_config",
      "name": "genai_telemetry_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_id": "porte-folio-manager-genai-telemetry",
            "cmek_settings": [],
            "description": "Dedicated Cloud Logging bucket for porte-folio-manager GenAI telemetry with 10 year retention",
            "enable_analytics": true,
            "id": "projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry",
            "index_configs": [],
            "lifecycle_state": "ACTIVE",
            "location": "europe-west1",
            "locked": false,
            "name": "projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry",
            "project": "lil-onboard-gcp",
            "retention_days": 3650
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_logging_project_sink",
      "name": "feedback_logs_to_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bigquery_options": [],
            "custom_writer_identity": null,
            "description": "",
            "destination": "logging.googleapis.com/projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry",
            "disabled": false,
            "exclusions": [],
            "filter": "jsonPayload.log_type=\"feedback\" jsonPayload.service_name=\"porte-folio-manager\"",
            "id": "projects/lil-onboard-gcp/sinks/porte-folio-manager-feedback",
            "name": "porte-folio-manager-feedback",
            "project": "lil-onboard-gcp",
            "unique_writer_identity": true,
            "writer_identity": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_logging_project_bucket_config.genai_telemetry_bucket",
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_logging_project_sink",
      "name": "genai_logs_to_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bigquery_options": [],
            "custom_writer_identity": null,
            "description": "",
            "destination": "logging.googleapis.com/projects/lil-onboard-gcp/locations/europe-west1/buckets/porte-folio-manager-genai-telemetry",
            "disabled": false,
            "exclusions": [],
            "filter": "log_name=\"projects/lil-onboard-gcp/logs/gen_ai.client.inference.operation.details\" AND (labels.\"gen_ai.input.messages_ref\" =~ \".*porte-folio-manager.*\" OR labels.\"gen_ai.output.messages_ref\" =~ \".*porte-folio-manager.*\")",
            "id": "projects/lil-onboard-gcp/sinks/porte-folio-manager-genai-logs",
            "name": "porte-folio-manager-genai-logs",
            "project": "lil-onboard-gcp",
            "unique_writer_identity": true,
            "writer_identity": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_logging_project_bucket_config.genai_telemetry_bucket",
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "app_sa_roles",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "dev,roles/aiplatform.user",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/aiplatform.user/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/aiplatform.user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/cloudsql.client",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/cloudsql.client/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/cloudsql.client"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/cloudtrace.agent",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/cloudtrace.agent/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/cloudtrace.agent"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/discoveryengine.editor",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/discoveryengine.editor/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/discoveryengine.editor"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/logging.logWriter",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/logging.logWriter/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/logging.logWriter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/secretmanager.secretAccessor",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/secretmanager.secretAccessor/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/secretmanager.secretAccessor"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/serviceusage.serviceUsageConsumer",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/serviceusage.serviceUsageConsumer/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/serviceusage.serviceUsageConsumer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        },
        {
          "index_key": "dev,roles/storage.admin",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/storage.admin/serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/storage.admin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_project_service.services",
            "google_service_account.app_sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "default_compute_sa_storage_object_creator",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZFvZOn5Vc=",
            "id": "lil-onboard-gcp/roles/cloudbuild.builds.builder/serviceAccount:920439982441-compute@developer.gserviceaccount.com",
            "member": "serviceAccount:920439982441-compute@developer.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "role": "roles/cloudbuild.builds.builder"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.google_project.dev_project",
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_project_service",
      "name": "services",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/aiplatform.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "aiplatform.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/cloudbuild.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "cloudbuild.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/run.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "run.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 3,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/bigquery.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "bigquery.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 4,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/discoveryengine.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "discoveryengine.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 5,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/cloudresourcemanager.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "cloudresourcemanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 6,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/iam.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "iam.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 7,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/bigquery.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "bigquery.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 8,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/serviceusage.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "serviceusage.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 9,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/logging.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "logging.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 10,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/cloudtrace.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "cloudtrace.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 11,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/telemetry.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "telemetry.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 12,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/sqladmin.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "sqladmin.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": 13,
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "lil-onboard-gcp/secretmanager.googleapis.com",
            "project": "lil-onboard-gcp",
            "service": "secretmanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_project_service_identity",
      "name": "vertex_sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "email": "service-920439982441@gcp-sa-aiplatform.iam.gserviceaccount.com",
            "id": "projects/lil-onboard-gcp/services/aiplatform.googleapis.com",
            "member": "serviceAccount:service-920439982441@gcp-sa-aiplatform.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "service": "aiplatform.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_secret_manager_secret",
      "name": "db_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {},
            "create_time": "2025-12-12T07:42:15.805922Z",
            "deletion_protection": false,
            "effective_annotations": {},
            "effective_labels": {
              "goog-terraform-provisioned": "true"
            },
            "expire_time": "",
            "id": "projects/lil-onboard-gcp/secrets/porte-folio-manager-db-password",
            "labels": {},
            "name": "projects/920439982441/secrets/porte-folio-manager-db-password",
            "project": "lil-onboard-gcp",
            "replication": [
              {
                "auto": [
                  {
                    "customer_managed_encryption": []
                  }
                ],
                "user_managed": []
              }
            ],
            "rotation": [],
            "secret_id": "porte-folio-manager-db-password",
            "tags": null,
            "terraform_labels": {
              "goog-terraform-provisioned": "true"
            },
            "timeouts": null,
            "topics": [],
            "ttl": null,
            "version_aliases": {},
            "version_destroy_ttl": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_secret_manager_secret_version",
      "name": "db_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_time": "2025-12-12T07:42:18.176757Z",
            "deletion_policy": "DELETE",
            "destroy_time": "",
            "enabled": true,
            "id": "projects/920439982441/secrets/porte-folio-manager-db-password/versions/1",
            "is_secret_data_base64": false,
            "name": "projects/920439982441/secrets/porte-folio-manager-db-password/versions/1",
            "secret": "projects/lil-onboard-gcp/secrets/porte-folio-manager-db-password",
            "secret_data": "N(Gf9ioo[0B0%RMX",
            "secret_data_wo": null,
            "secret_data_wo_version": 0,
            "timeouts": null,
            "version": "1"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "secret_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services",
            "google_secret_manager_secret.db_password",
            "random_password.db_password"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_service_account",
      "name": "app_sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "porte-folio-manager-app",
            "create_ignore_already_exists": null,
            "description": "",
            "disabled": false,
            "display_name": "porte-folio-manager Agent Service Account",
            "email": "porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "id": "projects/lil-onboard-gcp/serviceAccounts/porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "member": "serviceAccount:porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "name": "projects/lil-onboard-gcp/serviceAccounts/porte-folio-manager-app@lil-onboard-gcp.iam.gserviceaccount.com",
            "project": "lil-onboard-gcp",
            "timeouts": null,
            "unique_id": "109495250101213451862"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_sql_database",
      "name": "database",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "charset": "UTF8",
            "collation": "en_US.UTF8",
            "deletion_policy": "DELETE",
            "id": "projects/lil-onboard-gcp/instances/porte-folio-manager-db-dev/databases/porte-folio-manager",
            "instance": "porte-folio-manager-db-dev",
            "name": "porte-folio-manager",
            "project": "lil-onboard-gcp",
            "self_link": "https://sqladmin.googleapis.com/sql/v1beta4/projects/lil-onboard-gcp/instances/porte-folio-manager-db-dev/databases/porte-folio-manager",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services",
            "google_sql_database_instance.session_db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_sql_database_instance",
      "name": "session_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "available_maintenance_versions": [],
            "backupdr_backup": null,
            "clone": [],
            "connection_name": "lil-onboard-gcp:europe-west1:porte-folio-manager-db-dev",
            "database_version": "POSTGRES_15",
            "deletion_protection": false,
            "dns_name": "",
            "dns_names": [],
            "encryption_key_name": null,
            "final_backup_description": null,
            "first_ip_address": "35.195.68.112",
            "id": "porte-folio-manager-db-dev",
            "instance_type": "CLOUD_SQL_INSTANCE",
            "ip_address": [
              {
                "ip_address": "35.195.68.112",
                "time_to_retire": "",
                "type": "PRIMARY"
              },
              {
                "ip_address": "34.140.187.122",
                "time_to_retire": "",
                "type": "OUTGOING"
              }
            ],
            "maintenance_version": "POSTGRES_15_15.R20251004.01_19",
            "master_instance_name": "",
            "name": "porte-folio-manager-db-dev",
            "node_count": 0,
            "point_in_time_restore_context": [],
            "private_ip_address": "",
            "project": "lil-onboard-gcp",
            "psc_service_attachment_link": "",
            "public_ip_address": "35.195.68.112",
            "region": "europe-west1",
            "replica_configuration": [],
            "replica_names": [],
            "replication_cluster": [
              {
                "dr_replica": false,
                "failover_dr_replica_name": "",
                "psa_write_endpoint": ""
              }
            ],
            "restore_backup_context": [],
            "root_password": null,
            "self_link": "https://sqladmin.googleapis.com/sql/v1beta4/projects/lil-onboard-gcp/instances/porte-folio-manager-db-dev",
            "server_ca_cert": [
              {
                "cert": "-----BEGIN CERTIFICATE-----\nMIIDfzCCAmegAwIBAgIBADANBgkqhkiG9w0BAQsFADB3MS0wKwYDVQQuEyRjZjNh\nYTBmNi1lODliLTQ4YjctYTM3ZS1iMjU4MTc2ZmRmMTIxIzAhBgNVBAMTGkdvb2ds\nZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUsIEluYzELMAkG\nA1UEBhMCVVMwHhcNMjUxMjEyMDc0NTUzWhcNMzUxMjEwMDc0NjUzWjB3MS0wKwYD\nVQQuEyRjZjNhYTBmNi1lODliLTQ4YjctYTM3ZS1iMjU4MTc2ZmRmMTIxIzAhBgNV\nBAMTGkdvb2dsZSBDbG91ZCBTUUwgU2VydmVyIENBMRQwEgYDVQQKEwtHb29nbGUs\nIEluYzELMAkGA1UEBhMCVVMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB\nAQCb7+4sS30o4J1Iwa3Z5MS6is0iWpZijeSELHbUK/vDTnOTPUjaAlCTiWIcQQ+m\ndp5iD7UjcYbbgCI9b7+pkKI8GOdA1YL8W76uVgYBZ7nmp8jOwa8u/n5gXM7NXgS3\n+bJ6QuVKPpv43W0QqKgkrp0m75G5C9C8k47yljJeGwZO14sX5R5LQVA1IcM+M8en\niSofF2qc2ei3v5TyGN5Hs/DCVkudRogBzWs/uks8yqvg+3/m1xOQDxgO27qNwfHC\n38HqLnZUwXfJhjPqNkgMF0X6s2UGMywUt5/1Hz642IvhZMKc8NURX64L9R/eiLOU\nPXNM9hT9CRwyN/NnoWCsnuaHAgMBAAGjFjAUMBIGA1UdEwEB/wQIMAYBAf8CAQAw\nDQYJKoZIhvcNAQELBQADggEBAI2XUtTo1SW8udRVHtPbW/HAx69cJXL38W1x75c7\nmTZuSrIMsMlWP2KXPeBkcS/9jW7NS/3lCuWjGA2w2BmOc0/FODpKw/nwgHgNXPb/\nDaaQUtqGBvRDhkFq94gn4eA1eN8hi+ePn9uvO7zbyVqRTFu6VGRIDuQrK6KM/6En\nF3dzDNT3/tERvKSh05/WI/IeDZcCKVFaQV+JSDIx/4pKpT+j3/qRyzTIQsBIn6d/\nVriUvAq7ppWVxP3EGdE3P2kV1ew0KcW2schgZsciEm9IIjxozwmRrPkuAzrksUlk\nmuVeCIlilUmVjQ8Qln0eq3m2f/1ckrq9wDmQuRN3vK21T4o=\n-----END CERTIFICATE-----",
                "common_name": "C=US,O=Google\\, Inc,CN=Google Cloud SQL Server CA,dnQualifier=cf3aa0f6-e89b-48b7-a37e-b258176fdf12",
                "create_time": "2025-12-12T07:45:53.499Z",
                "expiration_time": "2035-12-10T07:46:53.499Z",
                "sha1_fingerprint": "70b62a604ebc58ba8dce9781ce4fb03a69d34b7a"
              }
            ],
            "service_account_email_address": "p920439982441-nlkh4m@gcp-sa-cloud-sql.iam.gserviceaccount.com",
            "settings": [
              {
                "activation_policy": "ALWAYS",
                "active_directory_config": [],
                "advanced_machine_features": [],
                "availability_type": "ZONAL",
                "backup_configuration": [
                  {
                    "backup_retention_settings": [
                      {
                        "retained_backups": 7,
                        "retention_unit": "COUNT"
                      }
                    ],
                    "binary_log_enabled": false,
                    "enabled": false,
                    "location": "",
                    "point_in_time_recovery_enabled": false,
                    "start_time": "23:00",
                    "transaction_log_retention_days": 7
                  }
                ],
                "collation": "",
                "connection_pool_config": [],
                "connector_enforcement": "NOT_REQUIRED",
                "data_cache_config": [
                  {
                    "data_cache_enabled": false
                  }
                ],
                "database_flags": [
                  {
                    "name": "cloudsql.iam_authentication",
                    "value": "on"
                  }
                ],
                "deletion_protection_enabled": false,
                "deny_maintenance_period": [],
                "disk_autoresize": true,
                "disk_autoresize_limit": 0,
                "disk_size": 10,
                "disk_type": "PD_SSD",
                "edition": "ENTERPRISE",
                "effective_availability_type": "ZONAL",
                "enable_dataplex_integration": false,
                "enable_google_ml_integration": false,
                "final_backup_config": [],
                "insights_config": [],
                "ip_configuration": [
                  {
                    "allocated_ip_range": "",
                    "authorized_networks": [],
                    "custom_subject_alternative_names": [],
                    "enable_private_path_for_google_cloud_services": false,
                    "ipv4_enabled": true,
                    "private_network": "",
                    "psc_config": [],
                    "server_ca_mode": "GOOGLE_MANAGED_INTERNAL_CA",
                    "server_ca_pool": "",
                    "ssl_mode": "ALLOW_UNENCRYPTED_AND_ENCRYPTED"
                  }
                ],
                "location_preference": [
                  {
                    "follow_gae_application": "",
                    "secondary_zone": "",
                    "zone": "europe-west1-b"
                  }
                ],
                "maintenance_window": [],
                "password_validation_policy": [],
                "pricing_plan": "PER_USE",
                "read_pool_auto_scale_config": [
                  {
                    "disable_scale_in": false,
                    "enabled": false,
                    "max_node_count": 0,
                    "min_node_count": 0,
                    "scale_in_cooldown_seconds": 0,
                    "scale_out_cooldown_seconds": 0,
                    "target_metrics": []
                  }
                ],
                "retain_backups_on_delete": false,
                "sql_server_audit_config": [],
                "tier": "db-custom-1-3840",
                "time_zone": "",
                "user_labels": {},
                "version": 2
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInVwZGF0ZSI6NTQwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_sql_user",
      "name": "db_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "deletion_policy": null,
            "host": "",
            "id": "porte-folio-manager//porte-folio-manager-db-dev",
            "instance": "porte-folio-manager-db-dev",
            "name": "porte-folio-manager",
            "password": "N(Gf9ioo[0B0%RMX",
            "password_policy": [],
            "password_wo": null,
            "password_wo_version": null,
            "project": "lil-onboard-gcp",
            "sql_server_user_details": [],
            "timeouts": null,
            "type": ""
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "google_project_service.services",
            "google_secret_manager_secret.db_password",
            "google_secret_manager_secret_version.db_password",
            "google_sql_database_instance.session_db",
            "random_password.db_password"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "logs_data_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 4,
          "attributes": {
            "autoclass": [],
            "cors": [],
            "custom_placement_config": [],
            "default_event_based_hold": false,
            "effective_labels": {
              "goog-terraform-provisioned": "true"
            },
            "enable_object_retention": false,
            "encryption": [],
            "force_destroy": false,
            "hierarchical_namespace": [
              {
                "enabled": false
              }
            ],
            "id": "lil-onboard-gcp-porte-folio-manager-logs",
            "ip_filter": [],
            "labels": {},
            "lifecycle_rule": [],
            "location": "EUROPE-WEST1",
            "logging": [],
            "name": "lil-onboard-gcp-porte-folio-manager-logs",
            "project": "lil-onboard-gcp",
            "project_number": 920439982441,
            "public_access_prevention": "inherited",
            "requester_pays": false,
            "retention_policy": [],
            "rpo": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/lil-onboard-gcp-porte-folio-manager-logs",
            "soft_delete_policy": [
              {
                "effective_time": "2025-12-12T07:45:28.458Z",
                "retention_duration_seconds": 604800
              }
            ],
            "storage_class": "STANDARD",
            "terraform_labels": {
              "goog-terraform-provisioned": "true"
            },
            "time_created": "2025-12-12T07:45:28.458Z",
            "timeouts": null,
            "uniform_bucket_level_access": true,
            "updated": "2025-12-12T07:45:38.825Z",
            "url": "gs://lil-onboard-gcp-porte-folio-manager-logs",
            "versioning": [],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjQifQ==",
          "dependencies": [
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "telemetry_connection_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "b/lil-onboard-gcp-porte-folio-manager-logs",
            "condition": [],
            "etag": "CAI=",
            "id": "b/lil-onboard-gcp-porte-folio-manager-logs/roles/storage.objectViewer/serviceAccount:bqcx-920439982441-csva@gcp-sa-bigquery-condel.iam.gserviceaccount.com",
            "member": "serviceAccount:bqcx-920439982441-csva@gcp-sa-bigquery-condel.iam.gserviceaccount.com",
            "role": "roles/storage.objectViewer",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "google_bigquery_connection.genai_telemetry_connection",
            "google_project_service.services",
            "google_storage_bucket.logs_data_bucket",
            "time_sleep.wait_for_bq_connection_sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_password",
      "name": "db_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$9ZSLjq185KM15jrlXywVjOYtKw4de3M.9PL2VUIQy4TDjOnxk3fCa",
            "id": "none",
            "keepers": null,
            "length": 16,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": "!#$%\u0026*()-_=+[]{}\u003c\u003e:?",
            "result": "N(Gf9ioo[0B0%RMX",
            "special": true,
            "upper": true
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_for_bq_connection_sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "10s",
            "destroy_duration": null,
            "id": "2025-12-12T07:45:38Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "google_bigquery_connection.genai_telemetry_connection",
            "google_project_service.services"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_for_linked_dataset",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "10s",
            "destroy_duration": null,
            "id": "2025-12-12T07:47:06Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "google_logging_linked_dataset.genai_logs_linked_dataset",
            "google_logging_project_bucket_config.genai_telemetry_bucket",
            "google_logging_project_sink.genai_logs_to_bucket",
            "google_project_service.services"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
